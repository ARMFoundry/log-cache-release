---
name: log-cache-group-reader

templates:
  ctl: bin/ctl
  environment.sh.erb: bin/environment.sh
  ca.crt.erb: config/certs/ca.crt
  log_cache.crt.erb: config/certs/log_cache.crt
  log_cache.key.erb: config/certs/log_cache.key

packages:
- log-cache-group-reader

provides:
- name: log-cache-group-reader
  type: log-cache-group-reader
  properties:
  - port

consumes:
- name: log-cache
  type: log-cache
- name: log-cache-group-reader
  type: log-cache-group-reader

properties:
  port:
    description: "The port for the GroupReader to listen on"
    default: 8082

  health_addr:
    description: "The address for GroupReader to bind a health endpoint"
    default: localhost:6062

  max_per_source:
    description: "The store's memory size as number of envelopes for a specific sourceID"
    default: 20000
  memory_limit_percent:
    description: "Percentage of system memory to use for the cache"
    default: 50
